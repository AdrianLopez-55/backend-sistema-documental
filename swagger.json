{"openapi":"3.0.0","paths":{"/api/login-central":{"post":{"operationId":"ApiController_loginCentral","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginCentralAuthDTO"}}}},"responses":{"201":{"description":""}},"tags":["Validate Token"]}},"/api/user-info":{"get":{"operationId":"ApiController_getUserInfo","parameters":[],"responses":{"200":{"description":""}},"tags":["Validate Token"]}},"/documents":{"post":{"operationId":"DocumentsController_create","summary":"registry new document","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateDocumentDTO"}}}},"responses":{"201":{"description":"The document has been successfully created.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateDocumentDTO"}}}},"400":{"description":"bad request response"}},"tags":["Registry Documents"]},"get":{"operationId":"DocumentsController_findAll","summary":"see all documents or search by filters","parameters":[],"responses":{"200":{"description":"documents finds","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateDocumentDTO"}}}},"404":{"description":"The documents cant find"}},"tags":["Registry Documents"]}},"/documents/info-token":{"get":{"operationId":"DocumentsController_getTokenInfo","parameters":[],"responses":{"200":{"description":""}},"tags":["Registry Documents"]}},"/documents/active":{"get":{"operationId":"DocumentsController_findDocumentActive","summary":"see only documents actives","parameters":[{"name":"numberDocument","required":false,"in":"query","example":"DOC-001","description":"search document by numer document","schema":{"type":"string"}},{"name":"title","required":false,"in":"query","example":"Gastos","description":"search document by title","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Registry Documents"]}},"/documents/paginacion":{"get":{"operationId":"DocumentsController_findAllPaginate","summary":"get records by pagination","description":"Gets the records of documents by pagination","parameters":[{"name":"offset","required":false,"in":"query","example":0,"schema":{"type":"number"}},{"name":"limit","required":false,"in":"query","example":10,"schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["Registry Documents"]}},"/documents/inactive":{"get":{"operationId":"DocumentsController_findDocumentInactive","summary":"see only documents inactives","parameters":[{"name":"numberDocument","required":false,"in":"query","example":"DOC-001","description":"search document by numer document","schema":{"type":"string"}},{"name":"title","required":false,"in":"query","example":"Gastos","description":"search document by title","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Registry Documents"]}},"/documents/filtrado":{"get":{"operationId":"DocumentsController_filterParam","summary":"Get records by parameter filtering","description":"Search for records by filtering","parameters":[{"name":"numberDocument","required":false,"in":"query","example":"DOC-001","description":"search document by number document","schema":{"type":"string"}},{"name":"title","required":false,"in":"query","example":"Gastos","description":"search document by title","schema":{"type":"string"}},{"name":"typeName","required":false,"in":"query","example":"Costos","description":"search document by documentation type","schema":{"type":"string"}},{"name":"stateDocument","required":false,"in":"query","example":"Revision","description":"search document by state","schema":{"type":"string"}},{"name":"nombre","required":false,"in":"query","example":"workflow_A","description":"search document by workflow name","schema":{"type":"string"}},{"name":"description","required":false,"in":"query","example":"this is description","description":"search document by description","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Registry Documents"]}},"/documents/{id}":{"get":{"operationId":"DocumentsController_findOne","summary":"search document by id","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"document find"},"403":{"description":"document forbiden, document not use now"},"404":{"description":"document not found or not exist"}},"tags":["Registry Documents"]},"put":{"operationId":"DocumentsController_update","summary":"update document by id","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateDocumentDTO"}}}},"responses":{"200":{"description":"document update correctly"},"403":{"description":"document not use now"},"404":{"description":"document not found"}},"tags":["Registry Documents"]}},"/documents/{id}/versions/{version}":{"get":{"operationId":"DocumentsController_getDocumentVersion","summary":"show the varsion a choise from documento","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}},{"name":"version","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["Registry Documents"]}},"/documents/{id}/inactive":{"delete":{"operationId":"DocumentsController_deleteDocument","summary":"assign a document record to inactive using id","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"document converted to inactive successfully"},"404":{"description":"document not found or not exist"}},"tags":["Registry Documents"]}},"/documents/{id}/active":{"put":{"operationId":"DocumentsController_reactiverDocument","summary":"reactivate a document record","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["Registry Documents"]}},"/documents/{id}/sent":{"post":{"operationId":"DocumentsController_enviarDocumento","summary":"sent a document","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"201":{"description":""}},"tags":["Registry Documents"]}},"/documents/generate-pdf":{"post":{"operationId":"DocumentsController_generatePDF","parameters":[],"responses":{"201":{"description":""}},"tags":["Registry Documents"]}},"/documents/{id}/{paso}/numero-paso":{"post":{"operationId":"DocumentsController_volverPasoAnteior","summary":"return to a previous step in the workflow","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}},{"name":"paso","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"201":{"description":""}},"tags":["Registry Documents"]}},"/documents/{id}/comment":{"post":{"operationId":"DocumentsController_addComment","summary":"add dates from commnet document","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCommentDto"}}}},"responses":{"200":{"description":"add comment into de document corectly"}},"tags":["Registry Documents"]}},"/documents/{id}/milestone":{"post":{"operationId":"DocumentsController_addMIlestone","summary":"add milestone for documento","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateMilestoneDto"}}}},"responses":{"200":{"description":"milestones add into de document correctly"}},"tags":["Registry Documents"]}},"/workflow":{"post":{"operationId":"WorkflowController_create","summary":"Create a new workflow","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkflowDto"}}}},"responses":{"201":{"description":"Workflow creado exitosamente"}},"tags":["workflows"]},"get":{"operationId":"WorkflowController_findAll","summary":"find all workflow in the database","parameters":[],"responses":{"200":{"description":""}},"tags":["workflows"]}},"/workflow/filtrado":{"get":{"operationId":"WorkflowController_filterParam","summary":"Get records by parameter filtering","description":"Search for records by filtering","parameters":[{"name":"nombre","required":false,"in":"query","example":"workflow A","description":"search workflow by name","schema":{"type":"string"}},{"name":"step","required":false,"in":"query","example":"step A","description":"search workflow by step name","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["workflows"]}},"/workflow/active":{"get":{"operationId":"WorkflowController_findWorkflowActives","summary":"find all workflow active in the database","parameters":[],"responses":{"200":{"description":""}},"tags":["workflows"]}},"/workflow/{id}":{"get":{"operationId":"WorkflowController_findOne","summary":"Obtain workflow by ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["workflows"]},"put":{"operationId":"WorkflowController_updateWorkflow","summary":"Update workflow by ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkflowDto"}}}},"responses":{"200":{"description":""}},"tags":["workflows"]},"delete":{"operationId":"WorkflowController_remove","summary":"Inactiver workflow by ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["workflows"]}},"/workflow/workflow/{nombre}":{"get":{"operationId":"WorkflowController_getDocumentTypeByName","summary":"find workflow by name","parameters":[{"name":"nombre","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["workflows"]}},"/workflow/{id}/versions/{version}":{"get":{"operationId":"WorkflowController_getDocumentVersion","summary":"show the varsion a choise from documento","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}},{"name":"version","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["workflows"]}},"/workflow/{id}/activer":{"put":{"operationId":"WorkflowController_activerWorkflow","summary":"Activer workflow by ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["workflows"]}},"/step":{"post":{"operationId":"StepController_crearStep","summary":"create a new step","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StepDto"},"examples":{"example":{"value":{"step":"step A","descriptionStep":"a description","pasos":[{"paso":1,"oficina":"oficina_A"},{"paso":2,"oficina":"oficina_B"},{"paso":3,"oficina":"oficina_C"},{"paso":4,"oficina":"oficina_D"},{"paso":5,"oficina":"oficina_E"}]}}}}}},"responses":{"201":{"description":"Step creado exitosamente"}},"tags":["step"]},"get":{"operationId":"StepController_findAllSteps","summary":"Get all steps","parameters":[],"responses":{"200":{"description":""}},"tags":["step"]}},"/step/filter":{"get":{"operationId":"StepController_filterParam","summary":"Get records by parameter filtering","description":"Search for records by filtering","parameters":[{"name":"step","required":false,"in":"query","example":"step A","description":"search step by name","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["step"]}},"/step/active":{"get":{"operationId":"StepController_findStepActives","summary":"see only steps actives","parameters":[],"responses":{"200":{"description":""}},"tags":["step"]}},"/step/{id}":{"get":{"operationId":"StepController_findOne","summary":"Obtain step by ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["step"]},"put":{"operationId":"StepController_update","summary":"update step by ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StepDto"},"examples":{"example":{"value":{"step":"step A","pasos":[{"paso":1,"oficina":"oficina_A"},{"paso":2,"oficina":"oficina_B"},{"paso":3,"oficina":"oficina_C"},{"paso":4,"oficina":"oficina_D"},{"paso":5,"oficina":"oficina_E"}]}}}}}},"responses":{"200":{"description":""}},"tags":["step"]},"delete":{"operationId":"StepController_remove","summary":"Inactiver step by ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["step"]}},"/step/step-name/{step}":{"get":{"operationId":"StepController_getStepByName","summary":"search document type by name","parameters":[{"name":"step","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["step"]}},"/step/{id}/activer":{"put":{"operationId":"StepController_activerStep","summary":"reactivate step by id","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["step"]}},"/documentation-type":{"post":{"operationId":"DocumentationTypeController_create","summary":"Create a new documentation type","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateDocumentationTypeDto"}}}},"responses":{"201":{"description":""}},"tags":["documentation-type"]},"get":{"operationId":"DocumentationTypeController_findAll","summary":"see all documentation type in the database","parameters":[],"responses":{"200":{"description":"document Types finds in the database"},"404":{"description":"documentation Type not founds"}},"tags":["documentation-type"]}},"/documentation-type/filtrado":{"get":{"operationId":"DocumentationTypeController_filterParam","summary":"Get records by parameter filtering","description":"Search for records by filtering","parameters":[{"name":"typeName","required":false,"in":"query","example":"Licencia","description":"search documetation type by name","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["documentation-type"]}},"/documentation-type/active":{"get":{"operationId":"DocumentationTypeController_findDocumentTypeActive","summary":"see only document type actives","parameters":[],"responses":{"200":{"description":""}},"tags":["documentation-type"]}},"/documentation-type/{id}":{"get":{"operationId":"DocumentationTypeController_findOne","summary":"see documentation type in the database by ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["documentation-type"]},"put":{"operationId":"DocumentationTypeController_update","summary":"update document by ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateDocumentationTypeDto"}}}},"responses":{"200":{"description":""}},"tags":["documentation-type"]},"delete":{"operationId":"DocumentationTypeController_remove","summary":"Inactiver document type by ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["documentation-type"]}},"/documentation-type/document-type/{typeName}":{"get":{"operationId":"DocumentationTypeController_getDocumentTypeByName","summary":"search document type by name","parameters":[{"name":"typeName","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["documentation-type"]}},"/documentation-type/{id}/activer":{"put":{"operationId":"DocumentationTypeController_activeTypeDocument","summary":"reactivate document type by id","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["documentation-type"]}},"/organization-chart":{"get":{"operationId":"OrganizationChartController_findAll","summary":"Obtain all organization chart","parameters":[],"responses":{"200":{"description":""}},"tags":["external-organization-chart-data"]}},"/organization-chart/{id}":{"get":{"operationId":"OrganizationChartController_getOrganigramaId","summary":"Obtain organization chart from id","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["external-organization-chart-data"]}}},"info":{"title":"API Documentation","description":"api validate and registry documents","version":"1.0","contact":{}},"tags":[{"name":"Validate Token","description":""},{"name":"Registry Documents","description":""},{"name":"external-organization-chart-data","description":""},{"name":"documentation-type","description":""}],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"LoginCentralAuthDTO":{"type":"object","properties":{"token":{"type":"string"},"app":{"type":"string"}},"required":["token","app"]},"CreateDocumentDTO":{"type":"object","properties":{"title":{"type":"string","example":"Resources from DataCenter"},"documentTypeName":{"type":"string","example":"Licencia"},"stateDocument":{"type":"string","example":"Revision"},"workflowName":{"type":"string","example":"workflow_A"},"description":{"type":"string","example":"contract document registration for new staff. It is on revision"},"file":{"type":"string","example":"data:@file/jpeg;base64,/9jq"}},"required":["title","documentTypeName","stateDocument","workflowName","description","file"]},"UpdateDocumentDTO":{"type":"object","properties":{"title":{"type":"string","example":"Resources from DataCenter"},"documentTypeName":{"type":"string","example":"Licencia"},"stateDocument":{"type":"string","example":"Revision"},"workflowName":{"type":"string","example":"workflow_A"},"description":{"type":"string","example":"contract document registration for new staff. It is on revision"},"file":{"type":"string","example":"data:@file/jpeg;base64,/9jq"}}},"CreateCommentDto":{"type":"object","properties":{"comment":{"type":"string","example":"Esto es mi comentario del documeto"}},"required":["comment"]},"CreateMilestoneDto":{"type":"object","properties":{"typeMilestone":{"type":"string","example":"Completion of the software design phase"},"descriptionMilestone":{"type":"string","example":"The milestone marks the culmination of the design phase"}},"required":["typeMilestone","descriptionMilestone"]},"WorkflowDto":{"type":"object","properties":{"nombre":{"type":"string","description":"nombre del workflow"},"descriptionWorkflow":{"type":"string","description":"add a description from a workflow"},"stepName":{"type":"string"}},"required":["nombre","descriptionWorkflow","stepName"]},"StepDto":{"type":"object","properties":{"step":{"type":"string","description":"Nombre del step"},"descriptionStep":{"type":"string","example":"description from step","description":"description from step"},"pasos":{"description":"Pasos en formato JSON","type":"array","items":{"type":"string"}}},"required":["step","descriptionStep","pasos"]},"CreateDocumentationTypeDto":{"type":"object","properties":{"typeName":{"type":"string"}},"required":["typeName"]},"UpdateDocumentationTypeDto":{"type":"object","properties":{"typeName":{"type":"string"}}}}}}